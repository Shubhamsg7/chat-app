{"version":3,"sources":["Config.jsx","context/ContextProvider.jsx","components/Input.jsx","components/Messages.jsx","components/Welcome.jsx","components/Home.jsx","components/Navbar.jsx","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","ContextProvider","createContext","ContextFun","props","useState","user","setUser","loader","setLoader","allMsg","setAllMsg","useEffect","onAuthStateChanged","collection","orderBy","onSnapshot","snp","docs","map","doc","id","data","Provider","value","register","provider","GoogleAuthProvider","signInWithPopup","then","result","signInWithRedirect","logout","signOut","sendMessage","msg","add","profile","photoURL","username","displayName","email","createdAt","FieldValue","serverTimestamp","children","Input","useContext","setMsg","className","onSubmit","e","preventDefault","type","name","onChange","target","placeholder","required","Messages","message","src","alt","Welcome","Home","Navbar","userRegister","userLogout","onClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8d0669df.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\n// Your web app's Firebase configuration\r\n  // For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\n  var firebaseConfig = {\r\n    apiKey: \"AIzaSyB5-UQLVCbETTnnhI_zb-z8e7EsCwMHtys\",\r\n    authDomain: \"chat-app-7bb11.firebaseapp.com\",\r\n    projectId: \"chat-app-7bb11\",\r\n    storageBucket: \"chat-app-7bb11.appspot.com\",\r\n    messagingSenderId: \"513158755267\",\r\n    appId: \"1:513158755267:web:bfd7f83c3a96679b680376\",\r\n    measurementId: \"G-BQJBHP1084\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n  //firebase.analytics();\r\n\r\n  const auth = firebase.auth();\r\n  const db = firebase.firestore();\r\n\r\nexport { auth, db };","import React, {createContext, useEffect, useState} from 'react'\r\nimport { auth, db } from '../Config';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nexport const ContextProvider = createContext();\r\n\r\nconst ContextFun = (props) => {\r\n\r\n    const [user, setUser] = useState(null);\r\n    const [loader, setLoader] = useState(true);\r\n    const [allMsg, setAllMsg] = useState([]);\r\n\r\n    const register = () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        firebase\r\n            .auth()\r\n            .signInWithPopup(provider)\r\n            .then((result) => {\r\n                firebase.auth().signInWithRedirect(provider);\r\n        });\r\n    };\r\n\r\n    const logout = () => {\r\n        auth.signOut().then(()=>{\r\n            setUser(null);\r\n        });\r\n    };\r\n\r\n    const sendMessage = (msg) =>{\r\n        //console.log(msg);\r\n        db.collection(\"messages\").add({\r\n            msg,\r\n            profile: user.photoURL,\r\n            username: user.displayName,\r\n            email: user.email,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        auth.onAuthStateChanged((user) => {\r\n            setUser(user);\r\n            setLoader(false);\r\n        });\r\n\r\n        db.collection(\"messages\")\r\n            .orderBy(\"createdAt\", \"asc\")\r\n            .onSnapshot((snp) => {\r\n                //console.log(\"all msg\", snp.docs)\r\n                setAllMsg(snp.docs.map(doc => (\r\n                    {\r\n                        id: doc.id,\r\n                        ...doc.data(),\r\n                    }\r\n                )))\r\n            })\r\n            \r\n\r\n    }, []);\r\n    //console.log(allMsg);\r\n\r\n    return <ContextProvider.Provider value={{register, user, loader, logout, sendMessage, allMsg}}>\r\n        {props.children}\r\n    </ContextProvider.Provider>\r\n}\r\n\r\nexport default ContextFun;","import React,{useState, useContext} from 'react'\r\nimport {ContextProvider} from '../context/ContextProvider'\r\n\r\nconst Input = () => {\r\n    const {sendMessage} = useContext(ContextProvider)\r\n    const [msg, setMsg] = useState('')\r\n    const sendMsg = (e) =>{\r\n        e.preventDefault();\r\n        sendMessage(msg);\r\n        setMsg('');\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"input__form\">\r\n                <form onSubmit={sendMsg}>\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"input__control\"\r\n                        name=\"\"\r\n                        onChange={(e)=> setMsg(e.target.value)} \r\n                        value={msg}\r\n                        placeholder=\"Write a message...\" \r\n                        required\r\n                        />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Input\r\n","import React, {useContext} from 'react'\r\nimport Input from './Input'\r\nimport {ContextProvider} from '../context/ContextProvider'\r\n\r\n\r\nconst Messages = () => {\r\n    const {allMsg, user} = useContext(ContextProvider)\r\n    return (\r\n        <div className=\"messages\">\r\n            <>\r\n                {allMsg.map((message) => message.email === user.email ? \r\n                (<div className=\"messages__my\" key={message.id}>\r\n                    <div className=\"messages__my-msg\">\r\n                        <p>{message.msg}</p>\r\n                    </div>\r\n                </div>)\r\n                :\r\n                (<div className=\"messages__other\" key={message.id}>\r\n                    <div className=\"messages__other-img\">\r\n                        <img src={message.profile} alt=\"user\" />\r\n                    </div>\r\n                    <div className=\"messages__other-msg\">\r\n                        <span>{message.username}</span>\r\n                        <p>{message.msg}</p>\r\n                    </div>\r\n                </div>\r\n                )\r\n                )}\r\n            </>\r\n\r\n            <Input />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages\r\n","import React from 'react'\r\n\r\nconst Welcome = () => {\r\n    return (\r\n        <div>\r\n            <h1>Welcome to message</h1>\r\n            <p> lorem ipsum</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Welcome\r\n","import React, {useContext} from 'react'\r\nimport Messages from './Messages'\r\nimport Welcome from './Welcome'\r\nimport {ContextProvider} from '../context/ContextProvider'\r\n\r\nconst Home = () => {\r\n    const {loader, user} = useContext(ContextProvider)\r\n\r\n    return (\r\n        <div>\r\n            {!loader ? user ? <Messages /> : <Welcome /> : \"Loading...\"}            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, {useContext} from 'react'\r\nimport {ContextProvider} from '../context/ContextProvider'\r\n\r\nconst Navbar = () => {\r\n    const {register, user,loader, logout} = useContext(ContextProvider);\r\n    const userRegister = () => {\r\n        register();\r\n    };\r\n\r\n    const userLogout = () => {\r\n        logout();\r\n    };\r\n\r\n    const checkUser = () => {\r\n        return !loader ? user ? \r\n        <div className=\"navbar__links\">\r\n            \r\n                <li>\r\n                    <span className=\"navbar__img\">\r\n                        <img src={user.photoURL} alt=\"profile\"/>\r\n                    </span>\r\n                </li>\r\n                <li>\r\n                    <button className=\"navbar__btn\" onClick={userLogout}  >Logout</button>\r\n                </li>\r\n            \r\n        </div> : \r\n        <div className=\"navbar__links\">\r\n            <ul>\r\n                <li>\r\n                    <button className=\"navbar__btn\" onClick={userRegister} >Register</button>\r\n                </li>\r\n            </ul>\r\n        </div> : 'loading...'\r\n    }\r\n    return (\r\n        <div className=\"navbar\">\r\n            <div className=\"navbar__container\">\r\n                <div className=\"navbar__logo\">Messenger</div>\r\n                {checkUser()}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\nimport './App.css';\nimport Home from './components/Home';\nimport Navbar from './components/Navbar';\nimport ContextFun from './context/ContextProvider';\n\nfunction App() {\n  return (\n    <ContextFun >\n      <Navbar />\n      <Home />\n    </ContextFun>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}